id: install-docker
name: Install Docker
description: Install Docker Engine and Docker Compose
category: containers
os: [debian, redhat]
priority: 10
repeatable: false

params: []

scripts:
  debian: |
    if ! command -v docker &>/dev/null; then
      curl -fsSL https://get.docker.com | sh
      systemctl enable docker
      systemctl start docker
      log_success "Docker installed"
    else
      log_info "Docker already installed"
    fi

  redhat: |
    if ! command -v docker &>/dev/null; then
      yum install -y yum-utils
      yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
      yum install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin
      systemctl enable docker
      systemctl start docker
      log_success "Docker installed"
    else
      log_info "Docker already installed"
    fi
